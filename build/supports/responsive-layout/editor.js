!function(){"use strict";function e(t){var n,o,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(n=0;n<i;n++)t[n]&&(o=e(t[n]))&&(s&&(s+=" "),s+=o)}else for(o in t)t[o]&&(s&&(s+=" "),s+=o);return s}var t=function(){for(var t,n,o=0,s="",i=arguments.length;o<i;o++)(t=arguments[o])&&(n=e(t))&&(s&&(s+=" "),s+=n);return s},n=window.wp.hooks,o=window.wp.compose,s=window.wp.element,i=window.wp.blocks,r=JSON.parse('{"phone":"375px","large-phone":"480px","tablet":"680px","large-tablet":"960px","laptop":"1080px","desktop":"1280px","large-desktop":"1440px"}');let a=(0,n.applyFilters)("groundworx.breakpoints",{...r});var l={all(e=0){const t={};for(const n in a){const o=a[n],s=this._resolveRaw(n);if(null!==s){let o=s;e&&(o+=e,o=Math.max(o,0),o=Math.floor(o)),t[n]=`${o}px`}else t[n]=o}return t},get(e,t=0){return this.all(t)[e]||null},resolve(e,t=0){if(!e)return null;if(!isNaN(parseInt(e)))return parseInt(e);const n=this.get(e,t);if(n){const e=n.match(/^\d+/);return e?parseInt(e[0]):null}return null},current(e=0){const t=el?this.getContainerWidth(el):this.getWindowWidth();let n=null;for(const o of Object.keys(this.all(e)).map(Number).sort(((e,t)=>e-t)))t>=o&&(n=o);return n},getWindowWidth(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},getContainerWidth(e){return e?e.getBoundingClientRect().width:0},_resolveRaw(e){if(!e)return null;if(!isNaN(parseInt(e)))return parseInt(e);const t=a[e];if(t){const e=t.match(/^\d+/);return e?parseInt(e[0]):null}return null}},p=window.wp.i18n,u=window.wp.blockEditor,d=window.wp.components,x=window.ReactJSXRuntime;const m={px:{max:1e3,step:1},"%":{max:100,step:1},vw:{max:100,step:1},vh:{max:100,step:1},em:{max:50,step:.1},rem:{max:50,step:.1},svw:{max:100,step:1},lvw:{max:100,step:1},dvw:{max:100,step:1},svh:{max:100,step:1},lvh:{max:100,step:1},dvh:{max:100,step:1},vi:{max:100,step:1},svi:{max:100,step:1},lvi:{max:100,step:1},dvi:{max:100,step:1},vb:{max:100,step:1},svb:{max:100,step:1},lvb:{max:100,step:1},dvb:{max:100,step:1},vmin:{max:100,step:1},svmin:{max:100,step:1},lvmin:{max:100,step:1},dvmin:{max:100,step:1},vmax:{max:100,step:1},svmax:{max:100,step:1},lvmax:{max:100,step:1},dvmax:{max:100,step:1}};function c({label:e=(0,p.__)("Width"),onChange:t,value:n,help:o=""}){var i,r;const a=parseFloat(n),[l]=(0,u.useSettings)("spacing.units"),c=(0,d.__experimentalUseCustomUnits)({availableUnits:l||["%","px","em","rem","vh","vw"]}),v=(0,s.useMemo)((()=>(0,d.__experimentalParseQuantityAndUnitFromRawValue)(n)),[n])[1]||c[0]?.value||"px";return(0,x.jsx)("fieldset",{className:"block-editor-width-control",children:(0,x.jsx)(d.BaseControl,{label:e,as:"legend",help:o,children:(0,x.jsxs)(d.Flex,{children:[(0,x.jsx)(d.FlexItem,{isBlock:!0,children:(0,x.jsx)(d.__experimentalUnitControl,{value:n,units:c,onChange:t,onUnitChange:e=>{const[o,s]=(0,d.__experimentalParseQuantityAndUnitFromRawValue)(n);["em","rem"].includes(e)&&"px"===s?t((o/16).toFixed(2)+e):["em","rem"].includes(s)&&"px"===e?t(Math.round(16*o)+e):["%","vw","svw","lvw","dvw","vh","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax"].includes(e)&&o>100&&t(100+e)},min:0,size:"__unstable-large",label:e,hideLabelFromVision:!0})}),(0,x.jsx)(d.FlexItem,{isBlock:!0,children:(0,x.jsx)(d.__experimentalSpacer,{marginX:2,marginBottom:0,children:(0,x.jsx)(d.RangeControl,{label:e,value:isNaN(a)?n:a,min:0,max:null!==(i=m[v]?.max)&&void 0!==i?i:100,step:null!==(r=m[v]?.step)&&void 0!==r?r:.1,onChange:e=>{t(null==e?"":`${e}${v}`)},__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,withInputField:!1,hideLabelFromVision:!0})})})]})})})}var v=({attributes:e,setAttributes:t,clientId:n,orientation:o})=>{const{responsiveSize:s={}}=e,{mode:i="fit",value:r="",unit:a="px"}=s,l="vertical"===o,m=l?(0,p.__)("Height"):(0,p.__)("Width");return(0,x.jsx)(u.InspectorControls,{group:"dimensions",children:(0,x.jsxs)(d.__experimentalVStack,{as:d.__experimentalToolsPanelItem,spacing:2,hasValue:()=>"fit"!==i,label:m,onDeselect:()=>t({...e,responsiveSize:{mode:"fit",value:"",unit:"px"}}),isShownByDefault:!0,panelId:n,children:[(0,x.jsxs)(d.__experimentalToggleGroupControl,{isBlock:!0,label:m,value:i,onChange:e=>{t({responsiveSize:{mode:e,value:"fixed"===e?r:"",unit:a}})},children:[(0,x.jsx)(d.__experimentalToggleGroupControlOption,{value:"fit",label:(0,p.__)("Fit")}),(0,x.jsx)(d.__experimentalToggleGroupControlOption,{value:"grow",label:(0,p.__)("Grow")}),(0,x.jsx)(d.__experimentalToggleGroupControlOption,{value:"fixed",label:(0,p.__)("Fixed")})]}),"fixed"===i&&(0,x.jsx)(c,{label:(0,p.sprintf)((0,p.__)("Specify a fixed %s."),l?"height":"width"),value:r,onChange:n=>{t({...e,responsiveSize:{...s,value:n}})}})]})})};function h({responsiveSize:e={},clientId:t}){const{mode:n="fit",value:o=""}=e,s=[];return"grow"===n&&s.push("flex-grow: 1;"),"fixed"===n&&o&&s.push(`flex-basis: ${o};`),s.length?(0,x.jsx)("style",{children:`\n\t\t\t\t#block-${t} {\n\t\t\t\t\t${s.join("\n")}\n\t\t\t\t}\n\t\t\t`}):null}(0,n.addFilter)("blocks.registerBlockType","groundworx/responsiveLayout/attributes",(e=>e?.supports?.groundworx?.responsiveLayout?{...e,attributes:{...e.attributes,responsiveSize:{type:"object",default:{mode:"fit",value:"",unit:"px"}}}}:e)),(0,n.addFilter)("blocks.registerBlockType","groundworx/responsiveLayout/context",(e=>e?.supports?.groundworx?.responsiveLayout?(e.hasOwnProperty("usesContext")||(e.usesContext=[]),e.usesContext.includes("responsiveLayout")||e.usesContext.push("responsiveLayout"),e):e));const g=(0,o.createHigherOrderComponent)((e=>n=>{const{name:o,attributes:s,className:r}=n;if(!(0,i.hasBlockSupport)(o,"groundworx.responsiveLayout"))return(0,x.jsx)(e,{...n});const a=s.responsiveSize?.mode;return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(e,{...n,className:t(r,{[`has-mode-${a}`]:a})})})}),"editResponsiveLayoutStyle");(0,n.addFilter)("editor.BlockListBlock","groundworx/responsiveLayout/editor-style",g);const w=(0,o.createHigherOrderComponent)((e=>t=>{const{attributes:n,setAttributes:o,name:r,context:a,clientId:p}=t;if(!(0,i.hasBlockSupport)(r,"groundworx.responsiveLayout"))return(0,x.jsx)(e,{...t});const{responsiveLayout:u}=a;if(!u)return(0,x.jsx)(e,{...t});const{typeConfig:d,toTypeConfig:m,switchAt:c}=u,{responsiveSize:g}=n,w=(document.querySelector('iframe[name="editor-canvas"]')?.contentDocument?.body?.getBoundingClientRect().width||window.innerWidth)>=l.resolve(c)?m:d,b=w.orientation?w.orientation:"horizontal";return(0,x.jsxs)(s.Fragment,{children:[(0,x.jsx)(h,{responsiveSize:g,clientId:p}),(0,x.jsx)(e,{...t}),(0,x.jsx)(v,{attributes:n,setAttributes:o,clientId:p,orientation:b})]})}),"withResponsiveLayoutContext");(0,n.addFilter)("editor.BlockEdit","groundworx/responsiveLayout/editWrapper",w),(0,n.addFilter)("blocks.getSaveContent.extraProps","groundworx/responsiveLayout/saveStyles",((e,n,o)=>{if(!(0,i.hasBlockSupport)(n,"groundworx.responsiveLayout"))return e;const s=o.responsiveSize?.mode;return{...e,className:t(e.className,{[`has-mode-${s}`]:s})}})),(0,n.addFilter)("blocks.registerBlockType","groundworx/addResponsiveLayoutSupport",((e,t)=>(["core/page-list","core/home-link","core/site-title","core/site-logo"].includes(t)&&(e.supports={...e.supports||{},groundworx:{...e.supports?.groundworx||{},responsiveLayout:!0}}),e)),9)}();