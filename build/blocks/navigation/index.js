!function(){"use strict";var e,o={347:function(){var e=window.wp.blocks;function o(e){var n,t,l="";if("string"==typeof e||"number"==typeof e)l+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(n=0;n<a;n++)e[n]&&(t=o(e[n]))&&(l&&(l+=" "),l+=t)}else for(t in e)e[t]&&(l&&(l+=" "),l+=t);return l}var n=function(){for(var e,n,t=0,l="",a=arguments.length;t<a;t++)(e=arguments[t])&&(n=o(e))&&(l&&(l+=" "),l+=n);return l},t=window.wp.i18n,l=window.wp.blockEditor,a=window.wp.data,i=window.wp.components,r=window.wp.element,s=window.wp.primitives,c=window.ReactJSXRuntime,u=(0,c.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(s.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})}),d=JSON.parse('{"phone":"375px","large-phone":"480px","tablet":"680px","large-tablet":"960px","laptop":"1080px","desktop":"1280px","large-desktop":"1440px"}');let p=(0,window.wp.hooks.applyFilters)("groundworx.breakpoints",{...d});var g={all(e=0){const o={};for(const n in p){const t=p[n],l=this._resolveRaw(n);if(null!==l){let t=l;e&&(t+=e,t=Math.max(t,0),t=Math.floor(t)),o[n]=`${t}px`}else o[n]=t}return o},get(e,o=0){return this.all(o)[e]||null},resolve(e,o=0){if(!e)return null;if(!isNaN(parseInt(e)))return parseInt(e);const n=this.get(e,o);if(n){const e=n.match(/^\d+/);return e?parseInt(e[0]):null}return null},current(e=0){const o=el?this.getContainerWidth(el):this.getWindowWidth();let n=null;for(const t of Object.keys(this.all(e)).map(Number).sort(((e,o)=>e-o)))o>=t&&(n=t);return n},getWindowWidth(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},getContainerWidth(e){return e?e.getBoundingClientRect().width:0},_resolveRaw(e){if(!e)return null;if(!isNaN(parseInt(e)))return parseInt(e);const o=p[e];if(o){const e=o.match(/^\d+/);return e?parseInt(e[0]):null}return null}};window.wp.compose;var v=(0,c.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(s.Path,{d:"M7 11.5h10V13H7z"})});function m({isGradient:e,inheritedValue:o,colorValue:n,setValue:t,colorGradientControlSettings:a}){return(0,c.jsx)(l.__experimentalColorGradientControl,{...a,showTitle:!1,enableAlpha:!0,__experimentalIsRenderedInSidebar:!0,colorValue:e?void 0:o,gradientValue:e?o:void 0,onColorChange:e?void 0:t,onGradientChange:e?t:void 0,clearable:o===n,headingLevel:3})}const h=({label:e,hasValue:o,linkColor:l,setLinkColor:a,hoverLinkColor:s,setHoverLinkColor:u,resetValue:d,colorGradientSettings:p,panelId:g})=>{var h,x,b,w;const k=(0,r.useRef)(),_=[{key:"link",label:(0,t.__)("Default"),colorValue:null!==(h=l?.color)&&void 0!==h?h:"",inheritedValue:null!==(x=l?.color)&&void 0!==x?x:"",setValue:a},{key:"hover",label:(0,t.__)("Hover"),colorValue:null!==(b=s?.color)&&void 0!==b?b:"",inheritedValue:null!==(w=s?.color)&&void 0!==w?w:"",setValue:u}],f=({indicators:e,label:o})=>(0,c.jsxs)(i.__experimentalHStack,{justify:"flex-start",children:[(0,c.jsx)(i.__experimentalZStack,{isLayered:!1,offset:-8,children:e.map(((e,o)=>(0,c.jsx)(i.Flex,{expanded:!1,children:(0,c.jsx)(i.ColorIndicator,{colorValue:e})},o)))}),(0,c.jsx)(i.FlexItem,{className:"block-editor-panel-color-gradient-settings__color-name",children:o})]});return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(i.__experimentalToolsPanelItem,{className:"block-editor-tools-panel-color-gradient-settings__item",hasValue:o,label:e,onDeselect:()=>{a(),u()},resetAllFilter:d,isShownByDefault:!0,panelId:g,children:(0,c.jsx)(i.Dropdown,{className:"block-editor-tools-panel-color-gradient-settings__dropdown",popoverProps:{placement:"left-start",offset:36,shift:!0},renderToggle:({onToggle:l,isOpen:a})=>{const r={onClick:l,className:n("block-editor-panel-color-gradient-settings__dropdown",{"is-open":a}),"aria-expanded":a,ref:k};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.Button,{...r,__next40pxDefaultSize:!0,children:(0,c.jsx)(f,{indicators:_.map((e=>e.colorValue)),label:e})}),o()&&(0,c.jsx)(i.Button,{__next40pxDefaultSize:!0,icon:v,className:"block-editor-panel-color-gradient-settings__reset",size:"small",label:(0,t.__)("Reset"),onClick:()=>{d(),a&&l(),k.current?.focus()}})]})},renderContent:()=>(0,c.jsx)(i.__experimentalDropdownContentWrapper,{paddingSize:"none",children:(0,c.jsx)("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content",children:(0,c.jsx)(i.TabPanel,{className:"color-tab-panel",activeClass:"is-active",tabs:_.map((e=>({name:e.key,title:e.label}))),children:e=>{const o=_.find((o=>o.key===e.name));if(!o)return null;const{key:n,...t}=o;return(0,c.jsx)(m,{...t,colorGradientControlSettings:p},n)}})})})})})})};function x({label:e,textColor:o,setTextColor:n,linkColor:a,setLinkColor:i,hoverLinkColor:r,setHoverLinkColor:s,backgroundColor:u,setBackgroundColor:d,clientId:p,navRef:g}){const v=(0,l.__experimentalUseMultipleOriginColorsAndGradients)();return v.hasColorsOrGradients?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l.__experimentalColorGradientSettingsDropdown,{__experimentalIsRenderedInSidebar:!0,resetIcon:!0,settings:[{colorValue:o.color,label:`${e} ${(0,t.__)("Text")}`,onColorChange:n,resetAllFilter:()=>n(),clearable:!0,enableAlpha:!0},{colorValue:u.color,label:`${e} ${(0,t.__)("Background")}`,onColorChange:d,resetAllFilter:()=>d(),clearable:!0,enableAlpha:!0}],panelId:p,...v,gradients:[],disableCustomGradients:!0}),(0,c.jsx)(h,{label:`${e} ${(0,t.__)("Link")}`,hasValue:()=>Boolean(a?.color||r?.color),linkColor:a,setLinkColor:i,hoverLinkColor:r,setHoverLinkColor:s,resetValue:()=>{i(),s()},colorGradientSettings:v,panelId:p})]}):null}var b=window.wp.coreData,w=window.wp.url,k=({className:e="",disabled:o,isMenuItem:n=!1})=>{let l=i.Button;return n&&(l=i.MenuItem),(0,c.jsx)(l,{variant:"link",disabled:o,className:e,href:(0,w.addQueryArgs)("edit.php",{post_type:"gwx_menu"}),children:(0,t.__)("Manage menus")})};const _={per_page:100,status:["publish","draft"],order:"desc",orderby:"date"};Object.fromEntries([{name:"accordion",label:"Accordion",type:"accordion",direction:"vertical"},{name:"list",label:"List",type:"list",direction:"vertical"},{name:"vertical-menu",label:"Vertical Menu",type:"menu",direction:"vertical"},{name:"stacked-menu",label:"Stacked Menu",type:"menu",direction:"vertical"},{name:"horizontal-menu",label:"Horizontal Menu",type:"menu",direction:"horizontal"}].map((({name:e,direction:o})=>[e,{layout:{type:"flex",orientation:o}}])));const f=[{name:"modal",label:"Modal",positionOptions:[{label:"Fixed",value:"fixed",isDefault:!0},{label:"Scroll Up Reveal",value:"scroll-up-reveal"}],behaviorOptions:[{label:"Responsive",value:"responsive",isDefault:!0},{label:"Always",value:!0}],allowedTypes:[{label:"Accordion",value:"accordion",isDefault:!0},{label:"Vertical Menu",value:"vertical-menu"},{label:"Stacked Menu",value:"stacked-menu"},{label:"List",value:"list"}],allowedToTypes:[{label:"Horizontal Menu",value:"horizontal-menu",isDefault:!0}]},{name:"modal-dropdown",label:"Modal Dropdown",positionOptions:[{label:"Relative",value:"relative",isDefault:!0},{label:"Sticky",value:"sticky"},{label:"Fixed",value:"fixed",isDefault:!0},{label:"Scroll Up Reveal",value:"scroll-up-reveal"}],behaviorOptions:[{label:"Responsive",value:"responsive",isDefault:!0},{label:"Always",value:!0}],allowedTypes:[{label:"Accordion",value:"accordion",isDefault:!0},{label:"Vertical Menu",value:"vertical-menu"},{label:"Stacked Menu",value:"stacked-menu"},{label:"List",value:"list"}],allowedToTypes:[{label:"Horizontal Menu",value:"horizontal-menu",isDefault:!0}]},{name:"slide-in",label:"Slide In",positionOptions:[{label:"Fixed",value:"fixed",isDefault:!0}],behaviorOptions:[{label:"Responsive",value:"responsive",isDefault:!0}],allowedTypes:[{label:"Accordion",value:"accordion",isDefault:!0},{label:"Vertical Menu",value:"vertical-menu"},{label:"Stacked Menu",value:"stacked-menu"},{label:"List",value:"list"}],allowedToTypes:[]},{name:"classic",label:"Classic",positionOptions:[{label:"Relative",value:"relative",isDefault:!0},{label:"Sticky",value:"sticky"},{label:"Fixed",value:"fixed",isDefault:!0},{label:"Scroll Up Reveal",value:"scroll-up-reveal"}],behaviorOptions:[{label:"Responsive",value:"responsive"},{label:"Always",value:!0}],allowedTypes:[{label:"Accordion",value:"accordion",isDefault:!0},{label:"Vertical Menu",value:"vertical-menu"},{label:"Stacked Menu",value:"stacked-menu"},{label:"List",value:"list"}],allowedToTypes:[{label:"Horizontal Menu",value:"horizontal-menu",isDefault:!0}]}];function C(e){return f.find((o=>o.name===e))||f.find((e=>"classic"===e.name))}function y(){const e=document.querySelector('iframe[name="editor-canvas"]');return e?.contentDocument?.body?.getBoundingClientRect().width||window.innerWidth}function j(e,o,n){return e&&!o?{[n]:`var(--wp--preset--color--${e})`}:!e&&o?{[n]:o}:{}}const S={px:{max:1e3,step:1},"%":{max:100,step:1},vw:{max:100,step:1},vh:{max:100,step:1},em:{max:50,step:.1},rem:{max:50,step:.1},svw:{max:100,step:1},lvw:{max:100,step:1},dvw:{max:100,step:1},svh:{max:100,step:1},lvh:{max:100,step:1},dvh:{max:100,step:1},vi:{max:100,step:1},svi:{max:100,step:1},lvi:{max:100,step:1},dvi:{max:100,step:1},vb:{max:100,step:1},svb:{max:100,step:1},lvb:{max:100,step:1},dvb:{max:100,step:1},vmin:{max:100,step:1},svmin:{max:100,step:1},lvmin:{max:100,step:1},dvmin:{max:100,step:1},vmax:{max:100,step:1},svmax:{max:100,step:1},lvmax:{max:100,step:1},dvmax:{max:100,step:1}};function M({label:e=(0,t.__)("Width"),onChange:o,value:n,help:a=""}){var s,u;const d=parseFloat(n),[p]=(0,l.useSettings)("spacing.units"),g=(0,i.__experimentalUseCustomUnits)({availableUnits:p||["%","px","em","rem","vh","vw"]}),v=(0,r.useMemo)((()=>(0,i.__experimentalParseQuantityAndUnitFromRawValue)(n)),[n])[1]||g[0]?.value||"px";return(0,c.jsx)("fieldset",{className:"block-editor-width-control",children:(0,c.jsx)(i.BaseControl,{label:e,as:"legend",help:a,children:(0,c.jsxs)(i.Flex,{children:[(0,c.jsx)(i.FlexItem,{isBlock:!0,children:(0,c.jsx)(i.__experimentalUnitControl,{value:n,units:g,onChange:o,onUnitChange:e=>{const[t,l]=(0,i.__experimentalParseQuantityAndUnitFromRawValue)(n);["em","rem"].includes(e)&&"px"===l?o((t/16).toFixed(2)+e):["em","rem"].includes(l)&&"px"===e?o(Math.round(16*t)+e):["%","vw","svw","lvw","dvw","vh","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax"].includes(e)&&t>100&&o(100+e)},min:0,size:"__unstable-large",label:e,hideLabelFromVision:!0})}),(0,c.jsx)(i.FlexItem,{isBlock:!0,children:(0,c.jsx)(i.__experimentalSpacer,{marginX:2,marginBottom:0,children:(0,c.jsx)(i.RangeControl,{label:e,value:isNaN(d)?n:d,min:0,max:null!==(s=S[v]?.max)&&void 0!==s?s:100,step:null!==(u=S[v]?.step)&&void 0!==u?u:.1,onChange:e=>{o(null==e?"":`${e}${v}`)},__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,withInputField:!1,hideLabelFromVision:!0})})})]})})})}const B=(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",children:(0,c.jsx)("path",{d:"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z"})}),N=(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",children:(0,c.jsx)("path",{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})}),T=(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("rect",{x:"5",y:"4",width:"14",height:"12",rx:"1.5",fill:"none",stroke:"currentColor","stroke-width":"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("line",{x1:"10",y1:"18",x2:"14",y2:"18"}),(0,c.jsx)("line",{x1:"8",y1:"20",x2:"16",y2:"20"})]}),L=(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("rect",{x:"2",y:"4",width:"20",height:"12",rx:"1.5",fill:"none",stroke:"currentColor","stroke-width":"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("line",{x1:"10",y1:"18",x2:"14",y2:"18"}),(0,c.jsx)("line",{x1:"8",y1:"20",x2:"16",y2:"20"})]});function R(e=!1){return f.filter((({positionOptions:o})=>!!e||o?.some((({value:e})=>["relative","sticky"].includes(e)))))}var I=({clientId:e,menuId:o,setMenuId:n,attributes:s,setAttributes:u})=>{const d=((e,o="header")=>{const[n]=(0,b.useEntityProp)("postType","wp_template_part","slug"),t=n===o,i=(0,a.useSelect)((n=>{if(!e)return!1;const{getBlock:t,getBlockParents:a}=n(l.store);return a(e).some((e=>{const n=t(e);return"core/template-part"===n?.name&&n?.attributes?.slug===o}))}),[e,o]);return t||i})(e),{openSubmenusOnHover:p,showLogo:v,position:m,toggleBehavior:h,showSubmenuIcon:x,minHeight:w,switchAt:f,template:j,type:S,toType:I}=s;let{behaviorOptions:O,positionOptions:D,allowedTypes:V,allowedToTypes:H}=C(j);d||(D=D.filter((({value:e})=>["relative","sticky"].includes(e)))),d&&(D=D.filter((({value:e})=>["relative","fixed","scroll-up-reveal"].includes(e))));const[A,z]=(0,r.useState)(!1),[U,E]=(0,r.useState)(!1),[F,P]=(0,r.useState)(""),G=(0,a.useSelect)((e=>e("core").getEntityRecords("postType","gwx_menu",{per_page:-1,status:"publish"})||[]),[]),{saveEntityRecord:$,deleteEntityRecord:W}=(0,a.useDispatch)("core");function q(e,o,n=""){return o.find((o=>o.value===e))?e:o.find((e=>e.isDefault))?.value||o?.[0]?.value||n}(0,r.useEffect)((()=>{if(!I||!f)return void z(!1);const e=()=>{const e=y(),o=g.resolve(s.switchAt);z(e>=o)};e();const o=new ResizeObserver(e),n=document.querySelector('iframe[name="editor-canvas"]');return n?.contentDocument?.body&&o.observe(n.contentDocument.body),()=>o.disconnect()}),[I,f]),(0,r.useEffect)((()=>{const e=C(j),o=q(h,e.behaviorOptions,!1),n={toggleBehavior:o,position:q(m,e.positionOptions,"relative"),type:!1===o?"horizontal-menu":q(S,e.allowedTypes,"")};if("responsive"===o){const o=q(f,[{value:"tablet"},{value:"laptop"},{value:"desktop"},{value:"large-desktop"}],"tablet");n.switchAt=o,n.toType=e.allowedToTypes?.length?q(I,e.allowedToTypes,e.allowedToTypes[0].value):n.type}else n.switchAt="",n.toType="";Object.entries(n).some((([e,o])=>s[e]!==o))&&u(n)}),[j,h,m,S,I]),(0,r.useEffect)((()=>{const e=G.find((e=>e.id===o));P(e?e.title.rendered:"")}),[o,G]),(0,r.useEffect)((()=>{const e=R(d);!e.find((e=>e.name===j))&&e.length>0&&u({template:e[0].name})}),[j,d]);const{hasResolvedNavigationMenus:Z,canUserUpdateNavigationMenu:J,canUserCreateNavigationMenus:Q}=function(e){const o=(0,b.useResourcePermissions)("navigation",e),{navigationMenu:n,isNavigationMenuResolved:t,isNavigationMenuMissing:l}=(0,a.useSelect)((o=>function(e,o){if(!o)return{isNavigationMenuResolved:!1,isNavigationMenuMissing:!0};const{getEntityRecord:n,getEditedEntityRecord:t,hasFinishedResolution:l}=e(b.store),a=["postType","gwx_menu",o],i=n(...a),r=t(...a),s=l("getEditedEntityRecord",a),c="publish"===r.status||"draft"===r.status;return{isNavigationMenuResolved:s,isNavigationMenuMissing:s&&(!i||!c),navigationMenu:c?r:null}}(o,e)),[e]),{canCreate:i,canUpdate:r,canDelete:s,isResolving:c,hasResolved:u}=o,{records:d,isResolving:p,hasResolved:g}=(0,b.useEntityRecords)("postType","gwx_menu",_);return{navigationMenu:n,isNavigationMenuResolved:t,isNavigationMenuMissing:l,navigationMenus:d,isResolvingNavigationMenus:p,hasResolvedNavigationMenus:g,canSwitchNavigationMenu:e?d?.length>1:d?.length>0,canUserCreateNavigationMenus:i,isResolvingCanUserCreateNavigationMenus:c,hasResolvedCanUserCreateNavigationMenus:u,canUserUpdateNavigationMenu:r,hasResolvedCanUserUpdateNavigationMenu:e?u:void 0,canUserDeleteNavigationMenu:s,hasResolvedCanUserDeleteNavigationMenu:e?u:void 0}}(o),X=!(Q||J)||!Z;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(l.InspectorControls,{children:[(0,c.jsxs)(i.PanelBody,{title:(0,t.__)("Layout Settings"),initialOpen:!0,children:[(0,c.jsx)(i.SelectControl,{label:(0,t.__)("Navigation Layout"),value:j,options:R(d).map((({label:e,name:o})=>({label:e,value:o}))),onChange:e=>u({template:e})}),O.length>0&&(0,c.jsx)(i.__experimentalToggleGroupControl,{label:(0,t.__)("Toggle Behavior"),value:h,onChange:e=>u({toggleBehavior:e}),isBlock:!0,children:O.map((({label:e,value:o})=>(0,c.jsx)(i.__experimentalToggleGroupControlOption,{value:o,label:e},o)))}),"responsive"===h&&(0,c.jsxs)(i.__experimentalToggleGroupControl,{label:(0,t.__)("Toggle up to"),value:f,onChange:e=>u({switchAt:e}),isBlock:!0,children:[(0,c.jsx)(i.__experimentalToggleGroupControlOptionIcon,{value:"tablet",label:"Tablet",icon:B}),(0,c.jsx)(i.__experimentalToggleGroupControlOptionIcon,{value:"laptop",label:"Laptop",icon:N}),(0,c.jsx)(i.__experimentalToggleGroupControlOptionIcon,{value:"desktop",label:"Desktop",icon:T}),(0,c.jsx)(i.__experimentalToggleGroupControlOptionIcon,{value:"large-desktop",label:"Large Desktop",icon:L})]}),!1!==h&&(0,c.jsx)(i.SelectControl,{label:(0,t.__)("Display menu as"),value:S,onChange:e=>u({type:e}),options:V}),D.length>0&&(0,c.jsx)(i.SelectControl,{label:(0,t.__)("Position"),value:m,onChange:e=>u({position:e}),options:D}),"horizontal-menu"===I&&(0,c.jsx)(i.ToggleControl,{label:(0,t.__)("Open submenus on hover"),help:(0,t.__)("If disabled, submenus will open on click instead."),checked:!!p,onChange:e=>u({openSubmenusOnHover:e})}),(0,c.jsx)(i.ToggleControl,{label:(0,t.__)("Show submenu icon"),help:(0,t.__)("If disabled, submenus will appear without icon and link will be disabled."),checked:!!x,onChange:e=>u({showSubmenuIcon:e})}),(0,c.jsx)(M,{label:(0,t.__)("Minimum Size"),value:w,onChange:e=>u({minHeight:e})})]}),(0,c.jsxs)(i.PanelBody,{title:"Menu Settings",initialOpen:!0,children:[(0,c.jsx)(i.SelectControl,{label:(0,t.__)("Select Menu"),value:o||"",options:[{label:(0,t.__)("Select a menu"),value:""},...G.map((e=>({label:e.title.rendered,value:e.id})))],onChange:e=>{n(parseInt(e)||null)}}),(0,c.jsx)(i.Button,{isPrimary:!0,onClick:async()=>{const e=(()=>{const e=G.map((e=>e.title.rendered));let o=1,n=`Navigation ${o}`;for(;e.includes(n);)o++,n=`Navigation ${o}`;return n})(),o=await $("postType","gwx_menu",{title:e,content:"",status:"publish"});o&&o.id&&(n(o.id),P(e))},children:(0,t.__)("Create New Menu")})]})]}),(0,c.jsx)(l.InspectorControls,{group:"advanced",children:(0,c.jsxs)(i.__experimentalVStack,{spacing:4,children:[(0,c.jsxs)(i.__experimentalVStack,{spacing:0,children:[(0,c.jsx)(i.TextControl,{__nextHasNoMarginBottom:!0,label:(0,t.__)("Menu Name"),value:F,onChange:P,placeholder:(0,t.__)("Enter new menu name"),disabled:!o}),(0,c.jsxs)(i.__experimentalHStack,{spacing:2,children:[(0,c.jsx)(i.Button,{isSecondary:!0,onClick:async()=>{if(!o||!F.trim())return alert((0,t.__)("Please select a menu and enter a new name."));E(!0),G.find((e=>e.id===o))&&await $("postType","gwx_menu",{id:o,title:F.trim()}),E(!1)},disabled:U||!o,children:U?(0,t.__)("Renaming..."):(0,t.__)("Rename Menu")}),(0,c.jsx)(i.Button,{isDestructive:!0,onClick:async()=>{if(!o)return alert((0,t.__)("Please select a menu to delete."));confirm((0,t.__)("Are you sure you want to delete this menu?"))&&(await W("postType","gwx_menu",o),n(null),P(""))},disabled:!o,children:(0,t.__)("Delete Menu")})]})]}),(0,c.jsx)(k,{disabled:X,className:"gwx-menu-manage-menus-button"})]})})]})};const O=["groundworx/navigation-branding","groundworx/navigation-menu"],D=[["groundworx/navigation-branding"],["groundworx/navigation-menu"]],V={name:"groundworx/navigation-menu"};var H=(0,l.withColors)({textColor:"color"},{backgroundColor:"backgroundColor"},{linkColor:"color"},{hoverLinkColor:"color"},{submenuTextColor:"color"},{submenuBackgroundColor:"backgroundColor"},{submenuLinkColor:"color"},{submenuHoverLinkColor:"color"})((function(o){const{attributes:s,setAttributes:d,clientId:p,isSelected:v,className:m,textColor:h,setTextColor:b,linkColor:w,setLinkColor:k,hoverLinkColor:_,setHoverLinkColor:f,backgroundColor:C,setBackgroundColor:S,submenuTextColor:M,setSubmenuTextColor:B,submenuLinkColor:N,setSubmenuLinkColor:T,submenuHoverLinkColor:L,setSubmenuHoverLinkColor:R,submenuBackgroundColor:H,setSubmenuBackgroundColor:A,customPlaceholder:z=null,__unstableLayoutClassNames:U}=o,{ref:E,template:F,switchAt:P,type:G,toType:$,position:W,minHeight:q,toggleBehavior:Z,templateLock:J}=s,Q=(0,r.useRef)(),{hasChildSelected:X}=(0,a.useSelect)((e=>{const{getBlockOrder:o,getBlockName:n,getBlock:t,hasSelectedInnerBlock:l,getSelectedBlockClientId:a}=e("core/block-editor"),i=o(p).find((e=>"groundworx/navigation-menu"===n(e)));if(!i)return{hasChildSelected:!1};const r=a()===i,s=l(i,!0);return{hasChildSelected:r||s}}),[p]),{menus:K,isMenuLoading:Y}=(0,a.useSelect)((e=>{const o=e("core");return{menus:o.getEntityRecords("postType","gwx_menu",{per_page:-1})||[],isMenuLoading:o.isResolving("core","getEntityRecords",["postType","gwx_menu"])}}),[]),ee=(0,r.useCallback)((e=>{d({ref:e})}),[d]),[oe,ne]=(0,r.useState)(!1),te=X,{insertBlocks:le}=(0,a.useDispatch)(l.store),ae=(o,n)=>{const t=(0,e.createBlock)(o);le(t,void 0,n)};(0,r.useEffect)((()=>{if(!0===Z)return void ne(!1);const e=()=>{const e=y(),o=g.resolve(P);ne(e>=o)};e();const o=new ResizeObserver(e),n=document.querySelector('iframe[name="editor-canvas"]');return n?.contentDocument?.body&&o.observe(n.contentDocument.body),()=>o.disconnect()}),[P,Z]);const ie=(0,l.useBlockProps)({ref:Q,className:n(m,function(e,o,t){const{type:l,toType:a,toggleBehavior:i,position:r}=e,s=!0===i||"responsive"===i,c="slide-in"===F,u={modal:"modal","modal-dropdown":"modal","slide-in":"slide-in"}[F]||"menu";return n(`is-template--${F}`,r&&`is-position-${r}`,!c&&s&&!o&&`has-${u}`,!c&&s&&!o&&t&&`has-${u}-open`,!c&&s&&!o&&!t&&`has-${u}-close`,c&&s&&!o&&"has-modal-dropdown",c&&s&&!o&&t&&"has-modal-dropdown-open",c&&s&&!o&&!t&&"has-modal-dropdown-close",c&&s&&o&&"has-slide-in",c&&s&&o&&t&&"has-slide-in-open",c&&s&&o&&!t&&"has-slide-in-close")}(s,oe,te),{"is-responsive":$,"has-text-color":!!h.color||!!h?.class,"has-background":!!C.color||C.class},U),style:{...j(s.textColor,s.customTextColor,"--grx--color--menu--text"),...j(s.backgroundColor,s.customBackgroundColor,"--grx--color--menu--background"),...j(s.linkColor,s.customLinkColor,"--grx--color--menu--link"),...j(s.hoverLinkColor,s.customHoverLinkColor,"--grx--color--menu--hover--link"),...j(s.submenuTextColor,s.customSubmenuTextColor,"--grx--color--submenu--text"),...j(s.submenuBackgroundColor,s.customSubmenuBackgroundColor,"--grx--color--submenu--background"),...j(s.submenuLinkColor,s.customSubmenuLinkColor,"--grx--color--submenu--link"),...j(s.submenuHoverLinkColor,s.customSubmenuHoverLinkColor,"--grx--color--submenu--hover--link"),...q?{"--gwx--min-nav-size":q}:{}}}),re=(0,a.useSelect)((e=>{const{getBlockOrder:o,getBlockName:n}=e(l.store),t=o(p),a={};return t.forEach((e=>{const o=n(e);o&&(a[o]=(a[o]||0)+1)})),a}),[p]),se=O.filter((e=>!re[e]||re[e]<1));(0,r.useEffect)((()=>{const{getBlockOrder:e,getBlockName:o}=wp.data.select("core/block-editor"),{removeBlock:n}=wp.data.dispatch("core/block-editor"),t=e(p),l=new Set;t.forEach((e=>{const t=o(e);O.includes(t)&&(l.has(t)?n(e):l.add(t))}))}),[p,re]);const ce=(0,l.useInnerBlocksProps)({className:["gwx-navigation__modal"]},{allowedBlocks:se,defaultBlock:V,template:D,directInsert:!1,templateInsertUpdatesSelection:!0,templateLock:J,__unstableDisableLayoutClassNames:!0,renderAppender:!1}),{selectBlock:ue,clearSelectedBlock:de}=(0,a.useDispatch)(l.store),pe=(0,a.useSelect)((e=>{const{getBlockOrder:o,getBlockName:n}=e("core/block-editor");return o(p).find((e=>"groundworx/navigation-menu"===n(e)))}),[p]);(0,r.useEffect)((()=>{Q.current&&function(e){if(!e||e._navBoundsInit)return;const o=()=>{const o=e.getBoundingClientRect(),n=document.querySelector('iframe[name="editor-canvas"]'),t=n?.contentDocument?.querySelector(".is-root-container.wp-site-blocks.block-editor-block-list__layout");if(!t)return;const l=t.style;l.removeProperty("--gwx-nav-top-height"),l.removeProperty("--gwx-nav-bottom-height"),l.removeProperty("--gwx-nav-left-width"),l.removeProperty("--gwx-nav-right-width");const{innerWidth:a,innerHeight:i}=n.contentWindow,r=(Math.abs(o.top),Math.abs(i-o.bottom)),s=Math.abs(o.left)<=1,c=Math.abs(a-o.right)<=1;s&&c?r<=1?l.setProperty("--gwx-nav-bottom-height",`${o.height}px`):l.setProperty("--gwx-nav-top-height",`${o.height}px`):(s&&l.setProperty("--gwx-nav-left-width",`${o.width}px`),c&&l.setProperty("--gwx-nav-right-width",`${o.width}px`))};e._navBoundsInit=!0,requestAnimationFrame((()=>{requestAnimationFrame(o)})),window.addEventListener("resize",o)}(Q.current)}),[]);const ge=(0,a.useSelect)((e=>{const{getSelectedBlockClientId:o,hasSelectedInnerBlock:n}=e("core/block-editor"),t=o();return pe&&(t===pe||n(pe,!0))}),[pe]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{...ie,children:[(0,c.jsx)(l.BlockControls,{children:(0,c.jsxs)(i.ToolbarGroup,{children:[(0,c.jsx)(i.ToolbarButton,{icon:u,label:"Add Branding",onClick:()=>ae("groundworx/navigation-branding",p),disabled:re["groundworx/navigation-branding"]>=1,children:"Add Branding"}),(0,c.jsx)(i.ToolbarButton,{icon:u,label:"Add Menu",onClick:()=>ae("groundworx/navigation-menu",p),disabled:re["groundworx/navigation-menu"]>=1,children:"Add Menu"})]})}),(0,c.jsxs)(l.InspectorControls,{group:"color",children:[(0,c.jsx)(x,{label:"Menu",textColor:h,setTextColor:b,linkColor:w,setLinkColor:k,hoverLinkColor:_,setHoverLinkColor:f,backgroundColor:C,setBackgroundColor:S,clientId:p,navRef:Q}),"horizontal-menu"===$&&(0,c.jsx)(x,{label:"Submenu",textColor:M,setTextColor:B,linkColor:N,setLinkColor:T,hoverLinkColor:L,setHoverLinkColor:R,backgroundColor:H,setBackgroundColor:A,elements:'[data-type="core/navigation-submenu"] [data-type="core/navigation-link"]',clientId:p,navRef:Q})]}),(0,c.jsx)(I,{clientId:p,menuId:E,setMenuId:ee,menus:K,name:name,isLoading:Y,attributes:s,setAttributes:d}),(0,c.jsx)("nav",{className:"gwx-navigation__wrapper",children:(0,c.jsxs)("div",{className:"gwx-navigation__content",children:[(0,c.jsx)("div",{className:"gwx-navigation__menuback"}),(0,c.jsx)("div",{...ce}),(0,c.jsx)("div",{className:"gwx-navigation__menutrigger",children:(0,c.jsxs)("div",{className:n("gwx-menu-toggle",{"is-open":ge}),children:[(0,c.jsx)("button",{className:"gwx-toggle gwx-toggle--open",type:"button","aria-label":(0,t.__)("Open menu"),onClick:()=>{pe&&ue(pe)},"aria-pressed":v,children:(0,c.jsxs)("svg",{className:"gwx-toggle__bread",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:[(0,c.jsx)("rect",{className:"gwx-toggle__bread-top",x:"4",y:"7.5",width:"16",height:"1.5"}),(0,c.jsx)("rect",{className:"gwx-toggle__bread-middle",x:"4",y:"11.25",width:"16",height:"1.5"}),(0,c.jsx)("rect",{className:"gwx-toggle__bread-bottom",x:"4",y:"15",width:"16",height:"1.5"})]})}),(0,c.jsx)("button",{className:"gwx-toggle gwx-toggle--close",type:"button","aria-label":(0,t.__)("Close menu"),onClick:()=>de(),"aria-pressed":v,children:(0,c.jsxs)("svg",{className:"gwx-toggle__bread",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:[(0,c.jsx)("rect",{className:"gwx-toggle__bread-top",x:"4",y:"7.5",width:"16",height:"1.5"}),(0,c.jsx)("rect",{className:"gwx-toggle__bread-middle",x:"4",y:"11.25",width:"16",height:"1.5"}),(0,c.jsx)("rect",{className:"gwx-toggle__bread-bottom",x:"4",y:"15",width:"16",height:"1.5"})]})})]})})]})})]}),(0,c.jsx)("div",{className:"gwx-navigation__curtain"}),("sticky"===W||"scroll-up-reveal"===W)&&(0,c.jsx)("div",{className:"gwx-navigation__placeholder"})]})})),A=JSON.parse('{"UU":"groundworx/navigation"}'),z=(0,r.forwardRef)((function({icon:e,size:o=24,...n},t){return(0,r.cloneElement)(e,{width:o,height:o,...n,ref:t})}));const U=(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",children:(0,c.jsx)("path",{d:"M12,3C7.05,3,3,7.05,3,12s4.05,9,9,9,9-4.05,9-9S16.95,3,12,3ZM12,19.5c-4.15,0-7.5-3.35-7.5-7.5s3.35-7.5,7.5-7.5,7.5,3.35,7.5,7.5-3.35,7.5-7.5,7.5ZM8.62,16.5l5.06-3.38,1.69-5.18-5.06,3.38-1.69,5.18Z"})});(0,e.registerBlockType)(A.UU,{icon:(0,c.jsx)(z,{icon:U}),edit:H,save:function(){return(0,c.jsx)(l.InnerBlocks.Content,{})}})}},n={};function t(e){var l=n[e];if(void 0!==l)return l.exports;var a=n[e]={exports:{}};return o[e](a,a.exports,t),a.exports}t.m=o,e=[],t.O=function(o,n,l,a){if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],l=e[u][1],a=e[u][2];for(var r=!0,s=0;s<n.length;s++)(!1&a||i>=a)&&Object.keys(t.O).every((function(e){return t.O[e](n[s])}))?n.splice(s--,1):(r=!1,a<i&&(i=a));if(r){e.splice(u--,1);var c=l();void 0!==c&&(o=c)}}return o}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,l,a]},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},function(){var e={563:0,947:0};t.O.j=function(o){return 0===e[o]};var o=function(o,n){var l,a,i=n[0],r=n[1],s=n[2],c=0;if(i.some((function(o){return 0!==e[o]}))){for(l in r)t.o(r,l)&&(t.m[l]=r[l]);if(s)var u=s(t)}for(o&&o(n);c<i.length;c++)a=i[c],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(u)},n=self.webpackChunkgroundworx_navigation=self.webpackChunkgroundworx_navigation||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))}();var l=t.O(void 0,[947],(function(){return t(347)}));l=t.O(l)}();