!function(){"use strict";var e,n={235:function(){var e=window.wp.blocks;function n(e){var o,t,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(o=0;o<i;o++)e[o]&&(t=n(e[o]))&&(a&&(a+=" "),a+=t)}else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}var o=function(){for(var e,o,t=0,a="",i=arguments.length;t<i;t++)(e=arguments[t])&&(o=n(e))&&(a&&(a+=" "),a+=o);return a},t=window.wp.i18n,a=window.wp.element,i=window.wp.blockEditor,l=window.wp.coreData,r=window.wp.data,s=window.wp.components,u=window.wp.url,d=window.ReactJSXRuntime,c=({className:e="",disabled:n,isMenuItem:o=!1})=>{let a=s.Button;return o&&(a=s.MenuItem),(0,d.jsx)(a,{variant:"link",disabled:n,className:e,href:(0,u.addQueryArgs)("edit.php",{post_type:"gwx_menu"}),children:(0,t.__)("Manage menus","groundworx-navigation")})};const v={name:"groundworx/navigation-link"},g=["groundworx/navigation-link/page","groundworx/navigation-link"],p={per_page:100,status:["publish","draft"],order:"desc",orderby:"date"},w=Object.fromEntries([{name:"accordion",label:"Accordion",type:"accordion",direction:"vertical"},{name:"list",label:"List",type:"list",direction:"vertical"},{name:"vertical-menu",label:"Vertical Menu",type:"menu",direction:"vertical"},{name:"accordion-alt",label:"Accordion Alt",type:"menu",direction:"vertical"},{name:"horizontal-menu",label:"Horizontal Menu",type:"menu",direction:"horizontal"}].map((({name:e,direction:n})=>[e,{layout:{type:"flex",orientation:n}}])));function _(e){return w[e]?.layout||{type:"flex",orientation:"horizontal",flexWrap:"wrap"}}function x({clientId:e,templateLock:n,orientation:o}){const[t,a,s]=(0,l.useEntityBlockEditor)("postType","gwx_menu"),{isImmediateParentOfSelectedBlock:u,selectedBlockHasChildren:c,isSelected:p}=(0,r.useSelect)((n=>{const{getBlockCount:o,hasSelectedInnerBlock:t,getSelectedBlockClientId:a}=n(i.store),l=a();return{isImmediateParentOfSelectedBlock:t(e,!1),selectedBlockHasChildren:!!o(l),isSelected:l===e}}),[e]),w=p||u&&!c,_=(0,i.useInnerBlocksProps)({className:"gwx-menu__container"},{value:t,onInput:a,onChange:s,templateLock:n,directInsert:!0,prioritizedInserterBlocks:g,defaultBlock:v,orientation:o,__unstableDisableLayoutClassNames:!0,__experimentalCaptureToolbars:!0,renderAppender:!!(p||u&&!c||w)&&i.InnerBlocks.ButtonBlockAppender});return(0,d.jsx)("div",{..._})}var h=JSON.parse('{"phone":"375px","large-phone":"480px","tablet":"680px","large-tablet":"960px","laptop":"1080px","desktop":"1280px","large-desktop":"1440px"}');let m=(0,window.wp.hooks.applyFilters)("groundworx.breakpoints",{...h});var f={all(e=0){const n={};for(const o in m){const t=m[o],a=this._resolveRaw(o);if(null!==a){let t=a;e&&(t+=e,t=Math.max(t,0),t=Math.floor(t)),n[o]=`${t}px`}else n[o]=t}return n},get(e,n=0){return this.all(n)[e]||null},resolve(e,n=0){if(!e)return null;if(!isNaN(parseInt(e)))return parseInt(e);const o=this.get(e,n);if(o){const e=o.match(/^\d+/);return e?parseInt(e[0]):null}return null},current(e=0){const n=el?this.getContainerWidth(el):this.getWindowWidth();let o=null;for(const t of Object.keys(this.all(e)).map(Number).sort(((e,n)=>e-n)))n>=t&&(o=t);return o},getWindowWidth(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},getContainerWidth(e){return e?e.getBoundingClientRect().width:0},_resolveRaw(e){if(!e)return null;if(!isNaN(parseInt(e)))return parseInt(e);const n=m[e];if(n){const e=n.match(/^\d+/);return e?parseInt(e[0]):null}return null}};function b(){const e=document.querySelector('iframe[name="editor-canvas"]');return e?.contentDocument?.body?e.contentDocument.body:document.querySelector(".editor-styles-wrapper")}function y(e,n,o=""){return n.find((n=>n.value===e))?e:n.find((e=>e.isDefault))?.value||n?.[0]?.value||o}window.wp.compose;const M=[{name:"modal",label:(0,t.__)("Modal","groundworx-navigation"),positionOptions:[{label:(0,t.__)("Fixed","groundworx-navigation"),value:"fixed",isDefault:!0},{label:(0,t.__)("Scroll Up Reveal","groundworx-navigation"),value:"scroll-up-reveal"}],behaviorOptions:[{label:(0,t.__)("Responsive","groundworx-navigation"),value:"responsive",isDefault:!0},{label:(0,t.__)("Always","groundworx-navigation"),value:!0}],allowedTypes:[{label:(0,t.__)("Accordion","groundworx-navigation"),value:"accordion",isDefault:!0},{label:(0,t.__)("Accordion Alt","groundworx-navigation"),value:"accordion-alt"},{label:(0,t.__)("Vertical Menu","groundworx-navigation"),value:"vertical-menu"},{label:(0,t.__)("List","groundworx-navigation"),value:"list"}],allowedToTypes:[{label:(0,t.__)("Horizontal Menu","groundworx-navigation"),value:"horizontal-menu",isDefault:!0}]},{name:"modal-dropdown",label:(0,t.__)("Modal Dropdown","groundworx-navigation"),positionOptions:[{label:(0,t.__)("Relative","groundworx-navigation"),value:"relative",isDefault:!0},{label:(0,t.__)("Sticky","groundworx-navigation"),value:"sticky"},{label:(0,t.__)("Fixed","groundworx-navigation"),value:"fixed",isDefault:!0},{label:(0,t.__)("Scroll Up Reveal","groundworx-navigation"),value:"scroll-up-reveal"}],behaviorOptions:[{label:(0,t.__)("Responsive","groundworx-navigation"),value:"responsive",isDefault:!0},{label:(0,t.__)("Always","groundworx-navigation"),value:!0}],allowedTypes:[{label:(0,t.__)("Accordion","groundworx-navigation"),value:"accordion",isDefault:!0},{label:(0,t.__)("Accordion Alt","groundworx-navigation"),value:"accordion-alt"},{label:(0,t.__)("Vertical Menu","groundworx-navigation"),value:"vertical-menu"},{label:(0,t.__)("List","groundworx-navigation"),value:"list"}],allowedToTypes:[{label:(0,t.__)("Horizontal Menu","groundworx-navigation"),value:"horizontal-menu",isDefault:!0}]},{name:"slide-in",label:(0,t.__)("Slide In","groundworx-navigation"),positionOptions:[{label:(0,t.__)("Fixed","groundworx-navigation"),value:"fixed",isDefault:!0}],behaviorOptions:[{label:(0,t.__)("Responsive","groundworx-navigation"),value:"responsive",isDefault:!0}],allowedTypes:[{label:(0,t.__)("Accordion","groundworx-navigation"),value:"accordion",isDefault:!0},{label:(0,t.__)("Accordion Alt","groundworx-navigation"),value:"accordion-alt"},{label:(0,t.__)("Vertical Menu","groundworx-navigation"),value:"vertical-menu"},{label:(0,t.__)("List","groundworx-navigation"),value:"list"}],allowedToTypes:[]},{name:"classic",label:(0,t.__)("Classic","groundworx-navigation"),positionOptions:[{label:(0,t.__)("Relative","groundworx-navigation"),value:"relative",isDefault:!0},{label:(0,t.__)("Sticky","groundworx-navigation"),value:"sticky"},{label:(0,t.__)("Fixed","groundworx-navigation"),value:"fixed",isDefault:!0},{label:(0,t.__)("Scroll Up Reveal","groundworx-navigation"),value:"scroll-up-reveal"}],behaviorOptions:[{label:(0,t.__)("Responsive","groundworx-navigation"),value:"responsive"},{label:(0,t.__)("Always","groundworx-navigation"),value:!0}],allowedTypes:[{label:(0,t.__)("Accordion","groundworx-navigation"),value:"accordion",isDefault:!0},{label:(0,t.__)("Accordion Alt","groundworx-navigation"),value:"accordion-alt"},{label:(0,t.__)("Vertical Menu","groundworx-navigation"),value:"vertical-menu"},{label:(0,t.__)("List","groundworx-navigation"),value:"list"}],allowedToTypes:[{label:(0,t.__)("Horizontal Menu","groundworx-navigation"),value:"horizontal-menu",isDefault:!0}]}];function k(e){return M.find((n=>n.name===e))||M.find((e=>"classic"===e.name))}var C=JSON.parse('{"UU":"groundworx/navigation-menu"}'),S=(0,a.forwardRef)((function({icon:e,size:n=24,...o},t){return(0,a.cloneElement)(e,{width:n,height:n,...o,ref:t})}));const N=(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",children:(0,d.jsx)("path",{d:"M18.92,4.5H5.08c-.32,0-.58.26-.58.58v13.85c0,.32.26.58.58.58h13.85c.32,0,.58-.26.58-.58V5.08c0-.32-.26-.58-.58-.58ZM5.25,3h13.5c1.24,0,2.25,1.01,2.25,2.25v13.5c0,1.24-1.01,2.25-2.25,2.25H5.25c-1.24,0-2.25-1.01-2.25-2.25V5.25c0-1.24,1.01-2.25,2.25-2.25ZM7,8h1.5v1.5h-1.5v-1.5ZM8.5,11.5h-1.5v1.5h1.5v-1.5ZM10,8h7v1.5h-7v-1.5ZM17,11.5h-7v1.5h7v-1.5ZM8.5,15h-1.5v1.5h1.5v-1.5ZM17,15h-7v1.5h7v-1.5Z"})});(0,e.registerBlockType)(C.UU,{icon:(0,d.jsx)(S,{icon:N}),edit:e=>{const{attributes:n,setAttributes:u,clientId:v,className:g,context:w,customPlaceholder:h=null,__unstableLayoutClassNames:m}=e,{ref:M,type:C,toType:S,showSubmenuIcon:N,openSubmenusOnHover:R,indentSubmenu:T,maxNestingLevel:j,flattenSubmenu:D,responsive:O,templateLock:I}=n,{switchAt:B,template:A,toggleBehavior:E}={...n,...w};let{allowedTypes:U}=k(A);const L=function(e,n){const[o,t]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(!0===e)return void t(!1);if(!n)return void t(!1);const o=()=>{const e=function(){const e=b();return e?.getBoundingClientRect?.().width||window.innerWidth}(),o=f.resolve(n);t(e>=o)};o();const a=new ResizeObserver(o),i=b();return i&&a.observe(i),()=>a.disconnect()}),[n,e]),o}(E,B)?S:C,z=_(L),{orientation:P="horizontal"}=z,H=_(C),W=_(S),V=(0,a.useCallback)((e=>{u({ref:e})}),[u]);(0,a.useEffect)((()=>{u({responsiveLayout:{typeConfig:H,toTypeConfig:W}})}),[H,W,B]);const F=(0,i.useBlockProps)({className:o(g,function(e){return o(`layout-type--${e}`)}(L),{"is-responsive":O,"is-flatten":D,"is-indent":T,"is-vertical":"vertical"===P},m)}),[Z,$]=(0,a.useState)(!1),[J,q]=(0,a.useState)(""),Q=(0,r.useSelect)((e=>e("core").getEntityRecords("postType","gwx_menu",{per_page:-1,status:"publish"})||[]),[]),{saveEntityRecord:X,deleteEntityRecord:G}=(0,r.useDispatch)("core");(0,a.useEffect)((()=>{const e=Q.find((e=>e.id===M));q(e?e.title.rendered:"")}),[M,Q]);const{hasResolvedNavigationMenus:K,canUserUpdateNavigationMenu:Y,canUserCreateNavigationMenus:ee}=function(e){const n=(0,l.useResourcePermissions)("navigation",e),{navigationMenu:o,isNavigationMenuResolved:t,isNavigationMenuMissing:a}=(0,r.useSelect)((n=>function(e,n){if(!n)return{isNavigationMenuResolved:!1,isNavigationMenuMissing:!0};const{getEntityRecord:o,getEditedEntityRecord:t,hasFinishedResolution:a}=e(l.store),i=["postType","gwx_menu",n],r=o(...i),s=t(...i),u=a("getEditedEntityRecord",i),d="publish"===s.status||"draft"===s.status;return{isNavigationMenuResolved:u,isNavigationMenuMissing:u&&(!r||!d),navigationMenu:d?s:null}}(n,e)),[e]),{canCreate:i,canUpdate:s,canDelete:u,isResolving:d,hasResolved:c}=n,{records:v,isResolving:g,hasResolved:w}=(0,l.useEntityRecords)("postType","gwx_menu",p);return{navigationMenu:o,isNavigationMenuResolved:t,isNavigationMenuMissing:a,navigationMenus:v,isResolvingNavigationMenus:g,hasResolvedNavigationMenus:w,canSwitchNavigationMenu:e?v?.length>1:v?.length>0,canUserCreateNavigationMenus:i,isResolvingCanUserCreateNavigationMenus:d,hasResolvedCanUserCreateNavigationMenus:c,canUserUpdateNavigationMenu:s,hasResolvedCanUserUpdateNavigationMenu:e?c:void 0,canUserDeleteNavigationMenu:u,hasResolvedCanUserDeleteNavigationMenu:e?c:void 0}}(M),ne=!(ee||Y)||!K;return(0,a.useEffect)((()=>{const e=k(A);if("responsive"!==E)return;const o={};if(e.allowedTypes&&e.allowedTypes.length>0){const n=e.allowedTypes.find((e=>e.isDefault))?.value||e.allowedTypes[0].value;o.type=y(C,e.allowedTypes,n)}if(e.allowedToTypes?.length){const n=e.allowedToTypes.find((e=>e.isDefault))?.value||e.allowedToTypes[0].value;o.toType=y(S,e.allowedToTypes,n)}Object.entries(o).some((([e,o])=>n[e]!==o))&&u(o)}),[A]),(0,d.jsxs)("div",{...F,children:[(0,d.jsxs)(i.InspectorControls,{children:[(0,d.jsxs)(s.PanelBody,{title:"Layout Settings",initialOpen:!0,children:[!1!==E&&(0,d.jsx)(s.SelectControl,{label:(0,t.__)("Display menu before toggle as","groundworx-navigation"),value:C,onChange:e=>u({type:e}),options:U}),"horizontal-menu"===S&&(0,d.jsx)(s.ToggleControl,{label:(0,t.__)("Open submenus on hover","groundworx-navigation"),help:(0,t.__)("If disabled, submenus will open on click instead.","groundworx-navigation"),checked:!!R,onChange:e=>u({openSubmenusOnHover:e})}),(0,d.jsx)(s.ToggleControl,{label:(0,t.__)("Show submenu icon","groundworx-navigation"),help:(0,t.__)("If disabled, submenus will appear without icon and link will be disabled.","groundworx-navigation"),checked:!!N,onChange:e=>u({showSubmenuIcon:e})}),(0,d.jsx)(s.RangeControl,{label:(0,t.__)("Max Visible Nesting Level","groundworx-navigation"),help:(0,t.__)("Limits submenu depth. All levels remain visible in the editor.","groundworx-navigation"),value:j,onChange:e=>u({maxNestingLevel:e}),min:1,max:5,step:1}),j>1&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.ToggleControl,{label:(0,t.__)("Indent Submenu","groundworx-navigation"),checked:!!T,onChange:e=>u({indentSubmenu:e})}),(0,d.jsx)(s.ToggleControl,{label:(0,t.__)("Flatten Submenu","groundworx-navigation"),help:(0,t.__)("Display all items at the same level.","groundworx-navigation"),checked:!!D,onChange:e=>u({flattenSubmenu:e})})]})]}),(0,d.jsxs)(s.PanelBody,{title:"Menu Settings",initialOpen:!0,children:[(0,d.jsx)(s.SelectControl,{label:(0,t.__)("Select Menu","groundworx-navigation"),value:M||"",options:[{label:(0,t.__)("Select a menu","groundworx-navigation"),value:""},...Q.map((e=>({label:e.title.rendered,value:e.id})))],onChange:e=>{V(parseInt(e)||null)}}),(0,d.jsx)(s.Button,{isPrimary:!0,onClick:async()=>{const e=(()=>{const e=Q.map((e=>e.title.rendered));let n=1,o=`Navigation ${n}`;for(;e.includes(o);)n++,o=`Navigation ${n}`;return o})(),n=await X("postType","gwx_menu",{title:e,content:"",status:"publish"});n&&n.id&&(V(n.id),q(e))},children:(0,t.__)("Create a New Menu","groundworx-navigation")})]})]}),(0,d.jsx)(i.InspectorControls,{group:"advanced",children:(0,d.jsxs)(s.__experimentalVStack,{spacing:4,children:[(0,d.jsxs)(s.__experimentalVStack,{spacing:0,children:[(0,d.jsx)(s.TextControl,{__nextHasNoMarginBottom:!0,label:(0,t.__)("Menu Name","groundworx-navigation"),value:J,onChange:q,placeholder:(0,t.__)("Enter new menu name","groundworx-navigation"),disabled:!M}),(0,d.jsxs)(s.__experimentalHStack,{spacing:2,children:[(0,d.jsx)(s.Button,{isSecondary:!0,onClick:async()=>{if(!M||!J.trim())return alert((0,t.__)("Please select a menu and enter a new name.","groundworx-navigation"));$(!0);const e=Q.find((e=>e.id===M));e&&await X("postType","gwx_menu",{id:M,title:J.trim()}),$(!1)},disabled:Z||!M,children:Z?(0,t.__)("Renaming...","groundworx-navigation"):(0,t.__)("Rename Menu","groundworx-navigation")}),(0,d.jsx)(s.Button,{isDestructive:!0,onClick:async()=>{if(!M)return alert((0,t.__)("Please select a menu to delete.","groundworx-navigation"));confirm((0,t.__)("Are you sure you want to delete this menu?","groundworx-navigation"))&&(await G("postType","gwx_menu",M),V(null),q(""))},disabled:!M,children:(0,t.__)("Delete Menu","groundworx-navigation")})]})]}),(0,d.jsx)(c,{disabled:ne,className:"gwx-menu-manage-menus-button"})]})}),M?(0,d.jsx)(l.EntityProvider,{kind:"postType",type:"gwx_menu",id:M,children:(0,d.jsx)(x,{clientId:v,hasCustomPlaceholder:!!h,templateLock:I,orientation:P})}):(0,d.jsx)("p",{children:"Select a menu."})]})},save:function(){return(0,d.jsx)(i.InnerBlocks.Content,{})}})}},o={};function t(e){var a=o[e];if(void 0!==a)return a.exports;var i=o[e]={exports:{}};return n[e](i,i.exports,t),i.exports}t.m=n,e=[],t.O=function(n,o,a,i){if(!o){var l=1/0;for(d=0;d<e.length;d++){o=e[d][0],a=e[d][1],i=e[d][2];for(var r=!0,s=0;s<o.length;s++)(!1&i||l>=i)&&Object.keys(t.O).every((function(e){return t.O[e](o[s])}))?o.splice(s--,1):(r=!1,i<l&&(l=i));if(r){e.splice(d--,1);var u=a();void 0!==u&&(n=u)}}return n}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,a,i]},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},function(){var e={803:0,208:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var a,i,l=o[0],r=o[1],s=o[2],u=0;if(l.some((function(n){return 0!==e[n]}))){for(a in r)t.o(r,a)&&(t.m[a]=r[a]);if(s)var d=s(t)}for(n&&n(o);u<l.length;u++)i=l[u],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(d)},o=self.webpackChunkgroundworx_navigation=self.webpackChunkgroundworx_navigation||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var a=t.O(void 0,[208],(function(){return t(235)}));a=t.O(a)}();